!function(e){var o={};function a(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=o,a.d=function(e,o,t){a.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,o){if(1&o&&(e=a(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(a.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)a.d(t,r,function(o){return e[o]}.bind(null,r));return t},a.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="",a(a.s=37)}({37:function(e,o){let a=$("#transfer-distance"),t=$("#small-price"),r=$("#medium-price"),n=$("#small-transfer-card-price"),l=$("#medium-transfer-card-price");function i(){$("#from-input").val(""),$("#to-input").val(""),$(".location-a").val(""),$(".location-b").val(""),$(".distance").val(""),$(".user-distance").val(""),$(".duration").val(""),$("#location-a").val(""),$("#location-b").val(""),$("#transfer-distance").val(""),$("#transfer-duration").val(""),$("#small-transfer-price").empty(),$("#medium-transfer-price").empty(),$("#small-price").empty(),$("#medium-price").empty(),$("#total-price").empty(),$(".page-transfers-form-container").hide()}function s(){$("#map").css({visibility:"hidden"}),$(".transfer-cards-container").hide()}$("#from-input").keypress((function(e){13==e.keyCode&&e.preventDefault()})),$("#to-input").keypress((function(e){13==e.keyCode&&e.preventDefault()})),$("#reset-map-calculation-btn").on("click",(function(){i(),s(),$(".new-calculation").fadeOut(500)})),$(".transfer-calculation-number-selector").change((function(){let e=$(".transfer-calculation-number-selector option:selected").index();console.log(e),c.val("TRANSFER CALCULATION"),$("#location-a").val($("#from-location").val()),$("#location-b").val($("#to-location").val()),$("#transfer-distance").val($("#distance").val()),$("#transfer-duration").val($("#duration").val()),0==e?($("#total-price").val($("#small-price").val()),$("#transfer-price").val($("#small-price").val()+" HRK"),$(".small-group-order").fadeIn(500),$(".medium-group-order").hide(),$(".large-group-order").hide(),$("html, body").animate({scrollTop:$(".small-group-order").offset().top-70},1e3)):1==e?($("#total-price").val($("#medium-price").val()),$("#transfer-price").val($("#medium-price").val()+" HRK"),$(".small-group-order").hide(),$(".medium-group-order").fadeIn(500),$(".large-group-order").hide(),$("html, body").animate({scrollTop:$(".medium-group-order").offset().top-70},1e3)):($("#total-price").val("ON REQUEST"),$("#transfer-price").val("ON REQUEST"),$(".small-group-order").hide(),$(".medium-group-order").hide(),$(".large-group-order").fadeIn(500),$("html, body").animate({scrollTop:$(".large-group-order").offset().top-70},1e3))}));let c=$("#transfer-type");$("#book-small-group").click((function(){c.val("TRANSFER CALCULATION"),$("#location-a").val($(".location-a").val()),$("#location-b").val($(".location-b").val()),$("#transfer-distance").val($(".distance").val()),$("#transfer-duration").val($(".duration").val()),$("#total-price").val($("#small-price").val()),$("#transfer-price").val($("#small-price").val()+" HRK"),""!==$("#location-a").val()&&""!==$("#location-b").val()&&$(".page-transfers-form-container").fadeIn(1e3),$("#reservation-text").html("SMALL GROUP RESERVATION <br/>(1 - 4 PERSONS)"),$("#number-of-people").val(1),$("#number-of-people").attr({max:4,min:1}),$("#submit-form-request").hide(),$("#submit-form").show(),$("html, body").animate({scrollTop:$(".page-transfers-calculations-container").offset().top-20},500)})),$("#book-medium-group").click((function(){c.val("TRANSFER CALCULATION"),$("#location-a").val($(".location-a").val()),$("#location-b").val($(".location-b").val()),$("#transfer-distance").val($(".distance").val()),$("#transfer-duration").val($(".duration").val()),$("#total-price").val($("#medium-price").val()),$("#transfer-price").val($("#medium-price").val()+" HRK"),""!==$("#location-a").val()&&""!==$("#location-b").val()&&$(".page-transfers-form-container").fadeIn(1e3),$("#reservation-text").html("MEDIUM GROUP RESERVATION <br/> (5-8 PERSONS)"),$("#number-of-people").val(5),$("#number-of-people").attr({max:8,min:5}),$("#submit-form-request").hide(),$("#submit-form").show(),$("html, body").animate({scrollTop:$(".page-transfers-calculations-container").offset().top-20},500)})),$("#book-large-group").click((function(){c.val("TRANSFER CALCULATION"),$("#location-a").val($(".location-a").val()),$("#location-b").val($(".location-b").val()),$("#transfer-distance").val($(".distance").val()),$("#transfer-duration").val($(".duration").val()),$("#total-price").val("Request"),$("#transfer-price").val("ON REQUEST"),""!==$("#location-a").val()&&""!==$("#location-b").val()&&$(".page-transfers-form-container").fadeIn(1e3),$("#reservation-text").html("LARGE GROUP REQUEST <br/>(9+ PERSONS)"),$("#number-of-people").val(10),$("#number-of-people").attr({max:1e3,min:9}),$("#submit-form-request").show(),$("#submit-form").hide(),$("html, body").animate({scrollTop:$(".page-transfers-calculations-container").offset().top-20},500)}));const u=$("#errorMessage");$("#closeErrorMessage").on("click",(function(){$(".show-route-loader").hide(),u.hide(),i()})),window.initMap=function(){var e=new google.maps.Map(document.getElementById("map"),{zoom:6,center:{lat:42.6507,lng:18.0944},mapTypeId:"roadmap",disableDefaultUI:!1,scrollwheel:!1,navigationControl:!0,mapTypeControl:!1,scaleControl:!0}),o=new google.maps.DirectionsRenderer,c=new google.maps.DirectionsService;o.setMap(e);var u=new google.maps.Geocoder,d=document.getElementById("from-input"),p=document.getElementById("to-input"),m=new google.maps.places.SearchBox(d),f=new google.maps.places.SearchBox(p);e.addListener("bounds_changed",(function(){m.setBounds(e.getBounds()),f.setBounds(e.getBounds())}));var g=[],v=[];function h(){console.clear();var d=m.getPlaces();if(null!=d&&0!=d.length){g.forEach((function(e){e.setMap(null)})),g=[];var p=new google.maps.LatLngBounds;d.forEach((function(o){if(o.geometry){var a={url:o.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0),scaledSize:new google.maps.Size(25,25)};g.push(new google.maps.Marker({map:e,icon:a,title:o.name,position:o.geometry.location})),o.geometry.viewport?p.union(o.geometry.viewport):p.extend(o.geometry.location)}else console.log("Returned place contains no geometry")}));var h=f.getPlaces();if(null!=h&&0!=h.length&&(v.forEach((function(e){e.setMap(null)})),v=[],h.forEach((function(o){if(o.geometry){var a={url:o.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0),scaledSize:new google.maps.Size(25,25)};v.push(new google.maps.Marker({map:e,icon:a,title:o.name,position:o.geometry.location})),o.geometry.viewport?p.union(o.geometry.viewport):p.extend(o.geometry.location)}else console.log("Returned place contains no geometry")})),e.fitBounds(p),g!=[]&&v!=[])){var b={origin:document.getElementById("from-input").value,destination:document.getElementById("to-input").value,travelMode:"DRIVING"};""!==$("#from-input").val()&&""!==$("#to-input").val()&&c.route(b,(function(e,c){if("OK"==c){$("#errorMessage").hide(),g[0].setMap(null),v[0].setMap(null),o.setDirections(e);var d=e.routes[0].legs[0].distance.value,p=o.directions.routes[0].legs[0].duration.text;d/=1e3;var m=e.routes[0].legs[0].start_location;u.geocode({placeId:e.geocoded_waypoints[e.geocoded_waypoints.length-1].place_id,language:"hr"},(function(e,o){if("OK"===o&&(console.log("Ending position:"),console.log(e),e[0])){var c=e[0].address_components,f="";endInForeignCountry="",$.each(c,(function(){"administrative_area_level_1"==this.types[0]&&(f="Dubrovačko-neretvanska županija"===this.short_name),"country"==this.types[0]&&("HR"!==this.short_name?endInForeignCountry=!0:endInForeignCountry=!1)})),function(e){u.geocode({location:m,language:"hr"},(function(o,c){if("OK"===c)if(console.log("Starting position:"),console.log(o),console.log("-------------------------------"),o[0]){var u="",m="",f="";searchAdminArea="",$.each(o,(function(){$.each(this.address_components,(function(){"postal_code"==this.types[0]&&(u=this.long_name),"administrative_area_level_1"==this.types[0]&&(searchAdminArea=this.long_name,m=!0),"administrative_area_level_1"==this.types[0]&&(m="Dubrovačko-neretvanska županija"===this.short_name),"country"==this.types[0]&&(f="HR"!==this.short_name)}))}));let c=1;0==m&&0==e?(console.log("Selected locations are not in Dubrovacko-neretvanska Zupanija! Rule selectiom!"),$("#errorMessage").show(),$("#errorHeader").html("Selected locations are bad!"),$("#errorContent").html('Selected locations are far away from Dubrovnik! Starting or ending location must be in Dubrovacko-neretvanska Zupanija. Please select correct locations or contact our <a href="contact-us" class="page-transfers-contact-link" style="cursor:pointer;">cutomer service</a>!'),i(),s(),c=0):0==d?(console.log("Selected locations are the same!"),$("#errorMessage").show(),$("#errorHeader").html("Locations are not different!"),$("#errorContent").html('Selected locations are starting and ending at same place! We can\'t provide you this service! Please select different places. If you have any bad experiance please contact our <a href="contact-us" class="page-transfers-contact-link" style="cursor:pointer;">cutomer service</a>!'),i(),s(),c=0):d>1e3?(console.log("Distance is too large! Rule 1000 km!"),$("#errorMessage").show(),$("#errorHeader").html("Distance is too large!"),$("#errorContent").html('Selected distance is larger than 1000 km! We can\'t provide you this service! Please select distance less than 1000 km or contact our <a href="contact-us" class="page-transfers-contact-link" style="cursor:pointer;">cutomer service</a>!'),i(),s(),c=0):d<35&&2e4!=u&&20233!=u&&20234!=u&&20235!=u&&20236!=u&&20207!=u&&20210!=u&&20213!=u&&20232!=u&&20215!=u?(console.log("Distance is bad for selected locations! Rule 35 km!"),$("#errorMessage").show(),$("#errorHeader").html("Distance is too small for this places!"),$("#errorContent").html('Selected distance must be greater than 35 km if this places are not selected: Dubrovnik, Trsteno, Orašac, Zaton, Mokošica, Kupari, Mlini, Srebreno, Plat, Cavtat, Čilipi, Slano, Gruda! We can\'t provide you this service! Please select places in this rule or contact our <a href="contact-us" class="page-transfers-contact-link" style="cursor:pointer;">cutomer service</a>!'),i(),s(),c=0):d<35&&"Dubrovačko-neretvanska županija"!==searchAdminArea&&(console.log("Distance is too is bad for selected locations! Rule 35 km!"),$("#errorMessage").show(),$("#errorHeader").html("Distance is too small for this places!"),$("#errorContent").html('Selected distance must be greater than 35 km if selected places are not within 150 km from Dubrovnik! We can\'t provide you this service! Please select places in this rule or contact our <a href="contact-us" class="page-transfers-contact-link" style="cursor:pointer;">cutomer service</a>!'),i(),s(),c=0);let g=$("#location-a"),v=$("#location-b"),h=$("#transfer-duration");g.attr("value",$("#from-input").val()),v.attr("value",$("#to-input").val()),a.attr("value",d.toFixed(2)),h.attr("value",p.toString()),a=d.toFixed(2),$.ajax({type:"GET",url:"/api/prices/google/map/transfer/price/"+a,contentType:"application/json; charset=UTF-8"}).done((function(e){const{smallGroupPrice:o,mediumGroupPrice:a}=e;t.val(o),r.val(a),n.text(o+" HRK"),l.text(a+" HRK"),console.log(e)})).fail((function(e){console.log("Failure!",e)})),1===c&&($(".transfer-calculation-number-selector option")[0].selected=!0,$("#map").css({visibility:"visible"}),$("#transfer-cards").show(),$(".form-container").show(),$("html, body").animate({scrollTop:$("#map").offset().top-100},1e3),$(".new-calculation").show(),$(".show-route-loader").hide()),$(".location-a").val($("#from-input").val()),$(".location-b").val($("#to-input").val()),$(".distance").val(d.toFixed(2)),$(".user-distance").val(d.toFixed(2)+" km"),$(".duration").val(p.toString()),$("#location-a").val($("#from-input").val()),$("#location-b").val($("#to-input").val()),$("#transfer-distance").val($("#transfer-distance").attr("value")),$("#transfer-duration").val($("#transfer-duration").attr("value"));const b="Selected locations are in Croatia but be aware if you travel to or from Dubrovnik, we may cross country border. <b>Please bring your passports always with you!<b/>",y="Starting or ending location is in foreign country! <b>Please bring your passports always with you!<b/>",w="Las ubicaciones seleccionadas están en Croacia, pero tenga en cuenta si viaja hacia o desde las partes occidentales de Croacia. <b> ¡Por favor traiga sus pasaportes siempre con usted! <b />",S="¡La ubicación inicial o final está en un país extranjero! <b> ¡Por favor traiga sus pasaportes siempre con usted! <b />";let k=$("#selectedLanguage").html();!0===f||!0===endInForeignCountry?"EN"===k?$("#border-crossing").html(y):"ES"===k?$("#border-crossing").html(S):console.log("Culture not valid!"):"EN"===k?$("#border-crossing").html(b):"ES"===k?$("#border-crossing").html(w):console.log("Culture not valid!"),console.log("Distance : "+d.toFixed(2)+" km"),console.log("Starting point postal code : "+u),console.log("Starting point administrative_area_level_1 : "+searchAdminArea),console.log("In Dubrovacko-neretvanska zupanija? start: "+m+", end: "+e),console.log("In FOREIGN COUNTRY? start: "+f+", end: "+endInForeignCountry),console.log("------------------------------")}else window.alert("No results found"),i(),s();else window.alert("Geocoder failed due to: "+c),i(),s()}))}(f)}}))}}))}}}m.addListener("places_changed",(function(){h()})),f.addListener("places_changed",(function(){h()}))}}});
//# sourceMappingURL=transfersMapService.min.js.map