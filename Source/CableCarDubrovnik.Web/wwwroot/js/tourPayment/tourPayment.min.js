!function(t){var e={};function a(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=e,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=21)}({21:function(t,e){function a(){const t=$("#tour-id").val(),e=$("#date").val(),a=$("#time").val(),o=$("#number-of-people").val(),n=$("#number-of-children").val(),l=$("#number-of-babies").val(),c=$("#pick-up-point").val(),u=$("#full-name").val(),r=$("#phone").val(),i=$("#email").val(),d=$("#additional-info").val(),s={tourId:t,date:e,time:a,numberOfPeople:o,numberOfChildren:n,numberOfBabies:l,pickUpPoint:c,fullName:u,phone:r,email:i,additionalInfo:d};$.ajax({type:"POST",data:JSON.stringify(s),contentType:"application/json; charset=UTF-8",url:"/api/booking/deposit/tour"}).done((function(t){const{externalId:e,totalPrice:a}=t,o=$("#payment-buttons");let n=document.createElement("button");var l=document.createTextNode(String("DEPOSIT"));n.appendChild(l),n.setAttribute("type","button"),n.setAttribute("onclick","chargeCustomerDeposit()"),n.setAttribute("id","btn-checkout-deposit"),n.setAttribute("class","btn btn-ghost-primary btn-checkout"),n.setAttribute("data-callback-url",$("#btn-checkout-deposit").attr("data-callback-url")),n.setAttribute("data-language",$("#btn-checkout-deposit").attr("data-language")),n.setAttribute("data-external-id",e),n.setAttribute("data-amount",a);let c=document.createElement("button");l=document.createTextNode(String("FULL PAYMENT"));c.appendChild(l),c.setAttribute("type","button"),c.setAttribute("onclick","chargeCustomerFull()"),c.setAttribute("id","btn-checkout-full"),c.setAttribute("class","btn btn-primary btn-checkout"),c.setAttribute("data-callback-url",$("#btn-checkout-full").attr("data-callback-url")),c.setAttribute("data-language",$("#btn-checkout-full").attr("data-language")),c.setAttribute("data-external-id",e),c.setAttribute("data-amount",a),console.log("FULL PAYMANT DATA ATTRIBUTES-------------------"),console.log($("#btn-checkout-deposit").attr("data-callback-url")),console.log($("#btn-checkout-deposit").attr("data-language")),console.log($("#btn-checkout-deposit").attr("data-external-id")),console.log($("#btn-checkout-deposit").attr("data-amount")),console.log("------------------------------------------------"),console.log("FULL PAYMANT DATA ATTRIBUTES-------------------"),console.log($("#btn-checkout-full").attr("data-callback-url")),console.log($("#btn-checkout-full").attr("data-language")),console.log($("#btn-checkout-full").attr("data-external-id")),console.log($("#btn-checkout-full").attr("data-amount")),console.log("------------------------------------------------"),o.append(n),o.append(c);const r={};function d(){$(".payment-failed-modal").fadeIn().css("display","flex")}u&&(r.fullName=u),i&&(r.email=i),$(".payment-method-modal").fadeOut(),window.agentcash.chargeAmount(n,r).done((function(t){$(".ac-checkout-container").fadeOut(),"approved"===t.status?$(".payment-successful-modal").fadeIn().css("display","flex"):d()})).fail((function(t){console.log("Failure!",t),d()}))})).fail((function(t,e,a){console.error("An error has occurred while creating a booking"),console.error(a),showFailureModal()}))}function o(){const t=$("#tour-id").val(),e=$("#date").val(),a=$("#time").val(),o=$("#number-of-people").val(),n=$("#number-of-children").val(),l=$("#number-of-babies").val(),c=$("#pick-up-point").val(),u=$("#full-name").val(),r=$("#phone").val(),i=$("#email").val(),d=$("#additional-info").val(),s={tourId:t,date:e,time:a,numberOfPeople:o,numberOfChildren:n,numberOfBabies:l,pickUpPoint:c,fullName:u,phone:r,email:i,additionalInfo:d};$.ajax({type:"POST",data:JSON.stringify(s),contentType:"application/json; charset=UTF-8",url:"/api/booking/full/tour"}).done((function(t){const{externalId:e,totalPrice:a}=t,o=$("#payment-buttons");let n=document.createElement("button");var l=document.createTextNode(String("DEPOSIT"));n.appendChild(l),n.setAttribute("type","button"),n.setAttribute("onclick","chargeCustomerDeposit()"),n.setAttribute("id","btn-checkout-deposit"),n.setAttribute("class","btn btn-ghost-primary btn-checkout"),n.setAttribute("data-callback-url",$("#btn-checkout-deposit").attr("data-callback-url")),n.setAttribute("data-language",$("#btn-checkout-deposit").attr("data-language")),n.setAttribute("data-external-id",e),n.setAttribute("data-amount",a);let c=document.createElement("button");l=document.createTextNode(String("FULL PAYMENT"));c.appendChild(l),c.setAttribute("type","button"),c.setAttribute("onclick","chargeCustomerFull()"),c.setAttribute("id","btn-checkout-full"),c.setAttribute("class","btn btn-primary btn-checkout"),c.setAttribute("data-callback-url",$("#btn-checkout-full").attr("data-callback-url")),c.setAttribute("data-language",$("#btn-checkout-full").attr("data-language")),c.setAttribute("data-external-id",e),c.setAttribute("data-amount",a),console.log("FULL PAYMANT DATA ATTRIBUTES-------------------"),console.log($("#btn-checkout-deposit").attr("data-callback-url")),console.log($("#btn-checkout-deposit").attr("data-language")),console.log($("#btn-checkout-deposit").attr("data-external-id")),console.log($("#btn-checkout-deposit").attr("data-amount")),console.log("------------------------------------------------"),console.log("FULL PAYMANT DATA ATTRIBUTES-------------------"),console.log($("#btn-checkout-full").attr("data-callback-url")),console.log($("#btn-checkout-full").attr("data-language")),console.log($("#btn-checkout-full").attr("data-external-id")),console.log($("#btn-checkout-full").attr("data-amount")),console.log("------------------------------------------------"),o.append(n),o.append(c);const r={};function d(){$(".payment-failed-modal").fadeIn().css("display","flex")}u&&(r.fullName=u),i&&(r.email=i),$(".payment-method-modal").fadeOut(),window.agentcash.chargeAmount(c,r).done((function(t){$(".ac-checkout-container").fadeOut(),"approved"===t.status?$(".payment-successful-modal").fadeIn().css("display","flex"):d()})).fail((function(t){console.log("Failure!",t),d()}))})).fail((function(t,e,a){console.error("An error has occurred while creating a booking"),console.error(a),showFailureModal()}))}$("#booking-done").click((function(){window.location.href="/"})),$("#cancel-on-failed").click((function(){window.location.href="/"})),$("#book-again-on-failed").click((function(){$(".payment-failed-modal").fadeOut()})),$(".modal-window-close").click((function(){$(this).data("clicked",!0),$(this).parent().parent().fadeOut()})),window.chargeCustomerDeposit=a,window.chargeCustomerFull=o,$("#btn-checkout-deposit").click((function(){a()})),$("#btn-checkout-full").click((function(){o()}))}});
//# sourceMappingURL=tourPayment.min.js.map